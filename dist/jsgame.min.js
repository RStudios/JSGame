!function t(e,o,i){function n(s,a){if(!o[s]){if(!e[s]){var p="function"==typeof require&&require;if(!a&&p)return p(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=o[s]={exports:{}};e[s][0].call(h.exports,function(t){var o=e[s][1][t];return n(o||t)},h,h.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)n(i[s]);return n}({1:[function(t,e,o){(function(e){"use strict";e.Constructor=t("./lib/Class/Constructor.js"),e.JSGameEngine=t("./lib/Class/JSGameEngine"),e.Math=t("./lib/Util/Math.js"),e.Component=t("./lib/Class/Component.js"),e.Time=t("./lib/Util/Time.js"),e.Physics2D=t("./lib/Components/Physics2D.js"),e.Vector2=t("./lib/Components/Vector2.js"),e.Transform=t("./lib/Components/Transform.js"),e.Shadow=t("./lib/Components/Shadow.js"),e.Input=t("./lib/Components/Input.js"),e.GameObject=t("./lib/Class/GameObject.js"),e.Color=t("./lib/Components/Color.js"),e.Text=t("./lib/GameObjects/Text.js"),e.Sprite=t("./lib/GameObjects/Sprite.js"),e.Particle=t("./lib/GameObjects/Particle.js"),e.ParticleSystem=t("./lib/GameObjects/ParticleSystem.js"),e.AudioClip=t("./lib/GameObjects/AudioClip.js"),e.Background=t("./lib/GameObjects/Background.js")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/Class/Component.js":2,"./lib/Class/Constructor.js":3,"./lib/Class/GameObject.js":4,"./lib/Class/JSGameEngine":5,"./lib/Components/Color.js":6,"./lib/Components/Input.js":7,"./lib/Components/Physics2D.js":8,"./lib/Components/Shadow.js":9,"./lib/Components/Transform.js":10,"./lib/Components/Vector2.js":11,"./lib/GameObjects/AudioClip.js":12,"./lib/GameObjects/Background.js":13,"./lib/GameObjects/Particle.js":14,"./lib/GameObjects/ParticleSystem.js":15,"./lib/GameObjects/Sprite.js":16,"./lib/GameObjects/Text.js":17,"./lib/Util/Math.js":18,"./lib/Util/Time.js":19}],2:[function(t,e,o){"use strict";function i(t){this.parent=void 0,this.__construct(this,t),this.onUpdate=function(){},this.onFixedUpdate=function(){},this.__update=function(t){this.onUpdate(t)},this.__fixedUpdate=function(t){this.onFixedUpdate(t)}}i.prototype.toString=function(){return JSON.stringify(this)},i.prototype=new Constructor,i.prototype.constructor=i,e.exports=i},{}],3:[function(t,e,o){"use strict";function i(t){t&&(delete this.createUUID,delete this.addComponent)}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.prototype.__extend=function(t,e,o){var i=new t(o||void 0);Object.keys(i).forEach(function(t){e[t]=i[t]})},i.prototype.__construct=function(t,e){if(void 0!==e){if("object"!==(void 0===e?"undefined":n(e)))throw TypeError("Options must be an Object literal");Object.keys(e).forEach(function(o){t[o]=e[o]})}},i.prototype.createUUID=function(t){function e(){return(65536*(1+Math.random()*(new Date).getTime())|0).toString(16).substring(1)}var t=t||"-";return e()+e()+t+e()+t+e()+t+e()+t+e()+e()+e()},i.prototype.addComponent=function(t,e){var e=e||this.createUUID();if(t.parent=this,this instanceof JSGameEngine){if(!(t instanceof GameObject))throw TypeError("Object not an instance of GameObject");if(void 0!==this.components[e])throw Error("GameObject already has component with id "+e);this.components[e]=t,t.__init&&t.__init(this)}else{if(!(t instanceof Component))throw TypeError("Object not an instance of Component");if(void 0!==this.components[e])throw Error("GameObject already has component with id "+e);this.components[e]=t,t.__init&&t.__init(this.parent)}return this.components[e]},e.exports=i},{}],4:[function(t,e,o){"use strict";function i(t){this.components=new Object,this.enabled=!0,this.width=0,this.height=0,this.visible=!0,this.onUpdate=function(){},this.onFixedUpdate=function(){},this.__update=function(t){this.onUpdate(t)},this.__fixedUpdate=function(t){this.onFixedUpdate(t)},this.__init=function(){},this.parent=void 0,this.transform=new Transform({parent:this}),this.__construct(this,t)}i.prototype=new Constructor,i.prototype.constructor=i,i.prototype.toString=function(){return JSON.stringify(this)},i.prototype.getComponent=function(t){for(var e in this)if(this[e]instanceof t)return this[e];for(var e in this.components)if(this.components[e]instanceof t)return this.components[e];return null},e.exports=i},{}],5:[function(t,e,o){"use strict";function i(t){var e=this;this.components={},this.canvas=document.createElement("canvas"),this.width=0,this.height=0,this.time=new Time,this.__construct(this,t),this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.width||window.innerWidth,this.canvas.height=this.height||window.innerHeight,this.width=this.canvas.width,this.height=this.canvas.height,Time=this.time,this.update=function(t){requestAnimationFrame(e.update),e.time.update(t);var o=e.canvas,i=e.ctx;i.clearRect(0,0,o.width,o.height);e.time;for(var n in e.components){var r=e.components[n];for(var s in r.components)r.components[s].parent||(r.components[s].parent=r);if(r.enabled&&r.visible){i.save();var a=r.transform.rotation,p=r.transform.position;i.translate(p.x+r.width/2,p.y+r.height/2),i.rotate(a*Math.PI/180),i.translate(Math.invert(p.x+r.width/2),Math.invert(p.y+r.height/2));for(var c in r.components)r.components[c].__update(e);r.__update(e),i.restore()}}},this.fixedUpdate=function(t){e.time.fixedUpdate(t);var o=e.time;for(var i in e.components){var n=e.components[i];for(var r in n.components)n.components[r].parent||(n.components[r].parent=n);if(n.enabled){for(var s in n.components)n.components[s].__update(e);n.__fixedUpdate(e)}}setTimeout(function(){e.fixedUpdate(performance.now)},1e3*o.framerateToTime(50))},requestAnimationFrame(this.update),this.fixedUpdate(performance.now)}i.prototype=new Constructor,i.prototype.constructor=i,e.exports=i},{}],6:[function(t,e,o){"use strict";function i(t){var e=this;this.__extend(Component,this,t),this.alpha=1,this.r=0,this.g=0,this.b=0,this.clamp=function(){return new i({r:Math.round(Math.clamp(e.r,0,255)),g:Math.round(Math.clamp(e.g,0,255)),b:Math.round(Math.clamp(e.b,0,255)),alpha:Math.clamp(e.alpha,0,1)})},this.__construct(this,t),this.toString=function(){var t=new i(this).clamp();return"rgba("+t.r+","+t.g+","+t.b+","+t.alpha+")"}}var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};i.prototype=new Component,i.prototype.constructor=i,i.prototype.invert=function(t){var e=this.alpha;return t&&(e=Math.flip(this.alpha,1)),new i({r:Math.flip(this.r,255),g:Math.flip(this.g,255),b:Math.flip(this.b,255),alpha:e})},i.prototype.red=function(){return new i({r:255,g:0,b:0})},i.prototype.green=function(){return new i({r:0,g:255,b:0})},i.prototype.blue=function(){return new i({r:0,g:0,b:255})},i.prototype.black=function(){return new i({r:0,g:0,b:0})},i.prototype.white=function(){return new i({r:255,g:255,b:255})},i.prototype.cyan=function(){return new i({r:0,g:255,b:255})},i.prototype.magenta=function(){return new i({r:255,g:0,b:255})},i.prototype.yellow=function(){return new i({r:255,g:255,b:0})},i.prototype.grey=function(){return new i({r:128,g:128,b:128})},i.prototype.add=function(t){switch(void 0===t?"undefined":n(t)){case"object":if(!(t instanceof i))throw TypeError("Object not an instance of Color");return new i({r:this.r+t.r,g:this.g+t.g,b:this.b+t.b});case"number":return new i({r:this.r+t,g:this.g+t,b:this.b+t});default:throw TypeError("Argument not a object or a number")}},i.prototype.multiply=function(t){switch(void 0===t?"undefined":n(t)){case"object":if(!(t instanceof i))throw TypeError("Object not an instance of Color");return new i({r:this.r*t.r,g:this.g*t.g,b:this.b*t.b});case"number":return new i({r:this.r*t,g:this.g*t,b:this.b*t});default:throw TypeError("Argument not a object or a number")}},i.prototype.divide=function(t){switch(void 0===t?"undefined":n(t)){case"object":if(!(t instanceof i))throw TypeError("Object not an instance of Color");return new i({r:this.r/t.r,g:this.g/t.g,b:this.b/t.b});case"number":return new i({r:this.r/t,g:this.g/t,b:this.b/t});default:throw TypeError("Argument not a object or a number")}},i.prototype.subtract=function(t){switch(void 0===t?"undefined":n(t)){case"object":if(!(t instanceof i))throw TypeError("Object not an instance of Color");return new i({r:this.r-t.r,g:this.g-t.g,b:this.b-t.b});case"number":return new i({r:this.r-t,g:this.g-t,b:this.b-t});default:throw TypeError("Argument not a object or a number")}},i.prototype.equal=function(t){if(!(t instanceof i))throw TypeError("Argument not an instance of Color");return this.r===t.r&&this.g===t.g&&this.b===t.b},i.prototype.lerp=function(t,e,o){if(!(t instanceof i&&e instanceof i))throw TypeError("Argument not an instance of Color");if("number"!=typeof o)throw TypeError("Argument must be a number");return new i(e).subtract(t).multiply(o)},e.exports=i},{}],7:[function(t,e,o){"use strict";function i(t){var e=this;this.__extend(Component,this,t),this.__construct(this,t),this.onKeyDown=function(){},this.onKeyUp=function(){},this.keys={},this.__init=function(t){document.addEventListener("keydown",function(t){e.keys[t.keyCode]=!0,e.onKeyDown(t.keyCode)},!1),document.addEventListener("keyup",function(t){e.keys[t.keyCode]=!1,e.onKeyUp(t.keyCode)},!1)}}i.prototype=new Component,i.prototype.constructor=i,i.prototype.Enter=13,i.prototype.Shift=16,i.prototype.Ctrl=17,i.prototype.Esc=27,i.prototype.Left=37,i.prototype.Up=38,i.prototype.Right=39,i.prototype.Down=40,i.prototype.A=65,i.prototype.B=66,i.prototype.C=67,i.prototype.D=68,i.prototype.E=69,i.prototype.F=70,i.prototype.G=71,i.prototype.H=72,i.prototype.I=73,i.prototype.J=74,i.prototype.K=75,i.prototype.L=76,i.prototype.M=77,i.prototype.N=78,i.prototype.O=79,i.prototype.P=80,i.prototype.Q=81,i.prototype.R=82,i.prototype.S=83,i.prototype.T=84,i.prototype.U=85,i.prototype.V=86,i.prototype.W=87,i.prototype.X=88,i.prototype.Y=89,i.prototype.Z=90,e.exports=i},{}],8:[function(t,e,o){"use strict";function i(t){var e=this;this.__extend(Component,this,t),this.gravity=new Vector2({y:9.81,parent:this}),this.velocity=new Vector2({parent:this}),this.fixedUpdate=function(t){return e.addForce(e.gravity.multiply(10*t))},this.addForce=function(t){if(!(t instanceof Vector2))throw TypeError("Force must be an instance of Vector2");return e.velocity.add(t),e.velocity},this.__construct(this,t)}i.prototype=new Component,i.prototype.constructor=i,e.exports=i},{}],9:[function(t,e,o){"use strict";function i(t){var e=this;this.__extend(Component,this,t),this.color=new Color,this.blur=10,this.__update=function(t){var o=t.ctx;o.shadowBlur=e.blur,o.shadowColor=e.color.toString()},this.__construct(this,t)}i.prototype=new Component,i.prototype.constructor=i,e.exports=i},{}],10:[function(t,e,o){"use strict";function i(t){this.rotation=0,this.__extend(Component,this,t),this.position=new Vector2({parent:this}),this.__construct(this,t),this.rotation=this.rotation%360}i.prototype=new Component,i.prototype.constructor=i,i.prototype.translate=function(t){if(!(t instanceof Vector2||t instanceof i))throw TypeError("Vector must be an instance of Vector2 or Transform");if(t instanceof Vector2)return this.position.x+=t.x,this.position.y+=t.y,this.position;this.position.x+=t.position.x,this.position.y+=t.position.y,this.rotation=(this.rotation+t.rotation)%360},i.prototype.add=function(t){if(!(t instanceof i))throw TypeError("Object not an instance of Transform");return new i({position:this.position.add(t.position),rotation:this.rotation+t.rotation})},i.prototype.multiply=function(t){if(!(t instanceof i))throw TypeError("Object not an instance of Transform");return new i({position:this.position.multiply(t.position),rotation:this.rotation*t.rotation})},i.prototype.divide=function(t){if(!(t instanceof i))throw TypeError("Object not an instance of Transform");return new i({position:this.position.divide(t.position),rotation:this.rotation/t.rotation})},i.prototype.subtract=function(t){if(!(t instanceof i))throw TypeError("Object not an instance of Transform");return new i({position:this.position.subtract(t.position),rotation:this.rotation-t.rotation})},i.prototype.equal=function(t){if(!(t instanceof i))throw TypeError("Argument not an instance of Transform");return!(!this.position.equal(t.position)||this.rotation!==t.rotation)},i.prototype.lerp=function(t,e,o){if(!(t instanceof i&&e instanceof i))throw TypeError("Argument not an instance of Transform");if("number"!=typeof o)throw TypeError("Argument must be a number");return new i(e).subtract(t).multiply(o)},e.exports=i},{}],11:[function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),p=t("../Class/Component"),c=function(t){return t&&t.__esModule?t:{default:t}}(p),h=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=t.x,r=void 0===o?0:o,s=t.y,a=void 0===s?0:s;i(this,e);var p=n(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return p.x=r,p.y=a,p}return r(e,t),a(e,[{key:"up",value:function(){return new e({x:0,y:-1})}},{key:"left",value:function(){return new e({x:-1,y:0})}},{key:"one",value:function(){return new e({x:1,y:1})}},{key:"right",value:function(){return new e({x:1,y:0})}},{key:"down",value:function(){return new e({x:0,y:1})}},{key:"zero",value:function(){return new e({x:0,y:0})}},{key:"add",value:function(t){var o=void 0===t?"undefined":s(t);if("object"===o){if(!(t instanceof e))throw new TypeError("Object not an instance of Vector2");return new e({x:this.x+t.x,y:this.y+t.y})}if("number"===o)return new e({x:this.x+t,y:this.y+t});throw new TypeError("Argument not a object or a number")}},{key:"multiply",value:function(t){var o=void 0===t?"undefined":s(t);if("object"===o){if(!(t instanceof e))throw new TypeError("Object not an instance of Vector2");return new e({x:this.x*t.x,y:this.y*t.y})}if("number"===o)return new e({x:this.x*t,y:this.y*t});throw new TypeError("Argument not a object or a number")}},{key:"divide",value:function(t){var o=void 0===t?"undefined":s(t);if("object"===o){if(!(t instanceof e))throw new TypeError("Object not an instance of Vector2");return new e({x:this.x/t.x,y:this.y/t.y})}if("number"===o)return new e({x:this.x/t,y:this.y/t});throw new TypeError("Argument not a object or a number")}},{key:"subtract",value:function(t){var o=void 0===t?"undefined":s(t);if("object"===o){if(!(t instanceof e))throw new TypeError("Object not an instance of Vector2");return new e({x:this.x-t.x,y:this.y-t.y})}if("number"===o)return new e({x:this.x-t,y:this.y-t});throw new TypeError("Argument not a object or a number")}},{key:"equal",value:function(t){if(!(t instanceof e))throw TypeError("Argument not an instance of Vector2");return this.x===t.r&&this.y===t.y}},{key:"lerp",value:function(t,o,i){if(!(t instanceof e&&o instanceof e))throw TypeError("Argument not an instance of Vector2");if("number"!=typeof i)throw TypeError("Argument must be a number");return i=Math.ceil(1e3*i)/1e3,new e(o).subtract(t).multiply(i)}}]),e}(c.default);e.exports=h},{"../Class/Component":2}],12:[function(t,e,o){"use strict";function i(t){var e=this;this.__extend(GameObject,this,t),this.file="",this.volume=1,this.__construct(this,t),this.audio=new Audio(this.file),this.play=function(){e.enabled&&e.audio.play()},this.pause=function(){e.enabled&&e.audio.pause()},this.time=0,this.duration=0,this.__init=function(){e.duration=e.audio.duration,e.audio.load(),e.audio.fastSeek(0)},this.__update=function(t){e.audio.src!==e.file&&(e.audio.src=e.file),e.time=e.audio.currentTime,e.duration=e.audio.duration,e.onFixedUpdate(t)},this.__fixedUpdate=function(t){e.onFixedUpdate(t)},delete this.transform,delete this.components,delete this.width,delete this.height,delete this.visible}i.prototype=new GameObject,i.prototype.constructor=i,e.exports=i},{}],13:[function(t,e,o){"use strict";function i(t){var e=this;this.__extend(GameObject,this,t),this.color=new Color({r:0,g:0,b:0,alpha:0,parent:this}),this.image="",this.imageWidth=0,this.imageHeight=0,this.__construct(this,t);var o,i=new Image,n=!1;this.__update=function(t){var r=t.ctx;e.image!==i.src&&(n=!1,o=void 0,i.onload=function(){e.imageWidth=i.width,e.imageHeight=i.height,n=!0},i.src=e.image),n?(void 0===o&&(o=r.createPattern(i,"repeat")),r.fillStyle=o):e.color.alpha>0&&(r.fillStyle=e.color.toString()),r.fillRect(Math.round(e.transform.position.x),Math.round(e.transform.position.y),Math.round(e.width),Math.round(e.height)),e.onUpdate(t)},this.__init=function(t){i.onload=function(){e.imageWidth=i.width,e.imageHeight=i.height,console.log("loaded"),n=!0},i.src=e.image,e.width=e.width||t.width,e.height=e.height||t.height}}i.prototype=new GameObject,i.prototype.constructor=i,e.exports=i},{}],14:[function(t,e,o){"use strict";function i(t){this.__extend(GameObject,this,t),this.speed=new Vector2,this.radius=1,this.life=1,this.remainingLife=1,this.color=new Color({r:255,g:255,b:255,alpha:1}),this.__construct(this,t),this.remainingLife=this.life}i.prototype=new GameObject,i.prototype.constructor=i,e.exports=i},{}],15:[function(t,e,o){"use strict";function i(t){function e(t){var e=new Particle({transform:new Transform(o.transform),speed:new Vector2({x:i.x+Math.random()*i.x,y:i.y+Math.random()*i.y}),radius:o.radius+Math.random()*o.radius,life:o.life+Math.random()*o.life,color:new Color({r:Math.round(Math.random()*o.color.r),g:Math.round(Math.random()*o.color.g),b:Math.round(Math.random()*o.color.b)}),parent:o});void 0!==t?o.particles[t]=e:o.particles.push(e)}var o=this;this.__extend(GameObject,this,t),this.count=50,this.speed=new Vector2({x:2,y:2,parent:o}),this.color=new Color({r:255,g:255,b:255,parent:o}),this.loop=!1,this.blendMode="lighter",this.glow=!0,this.life=100,this.radius=10,this.radial=!0,this.particles=[];var i=new Vector2(this.speed),n=this.width,r=this.height;this.__construct(this,t),this.__update=function(t){if(o.radial?(i.x=Math.random()*(2*o.speed.x)-o.speed.x,i.y=Math.random()*(2*o.speed.y)-o.speed.y):(i.x=o.speed.x,i.y=o.speed.y),o.particles.length<o.count)for(var n=0;n<o.count-o.particles.length;n++)e();if(o.particles.length>o.count)for(var n=0;n<o.particles.length-o.count;n++)o.particles.pop();var r=t.ctx;o.blendMode&&(r.globalCompositeOperation=o.blendMode);for(var n=0;n<o.particles.length;n++){var s=o.particles[n];if(r.beginPath(),s.color.alpha=Math.round(s.remainingLife/s.life*o.count)/o.count,"number"!=typeof s.color.alpha||isNaN(s.color.alpha))e(n);else{var a=r.createRadialGradient(s.transform.position.x,s.transform.position.y,0,s.transform.position.x,s.transform.position.y,s.radius);a.addColorStop(0,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),a.addColorStop(.5,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),o.glow?a.addColorStop(1,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", 0)"):a.addColorStop(1,"rgba("+s.color.r+", "+s.color.g+", "+s.color.b+", "+s.color.alpha+")"),r.fillStyle=a,r.arc(Math.round(s.transform.position.x),Math.round(s.transform.position.y),Math.round(s.radius),2*Math.PI,!1),r.fill(),s.remainingLife--,s.radius--,s.transform.position=s.transform.position.add(s.speed),(s.remainingLife<0||s.radius<0)&&(o.loop?e(n):o.particles.splice(n,1))}}o.onUpdate(t)},this.__init=function(t){},this.__fixedUpdate=function(t){o.width!==n&&(o.radius=o.width/2,n=o.width),o.height!==r&&(o.radius=o.height/2,r=o.height),o.width=2*o.radius,o.height=2*o.radius,o.onFixedUpdate(t)}}i.prototype=new GameObject,i.prototype.constructor=i,e.exports=i},{}],16:[function(t,e,o){"use strict";function i(t){function e(){function t(t,e,i,r,s,a){i.save(),i.clearRect(0,0,r.width,r.height),i.scale(s,a),i.drawImage(n,t,e,o.size.x,o.size.y,0,0,r.width*s,r.height*a);var p=new Image;return p.setAttribute("crossOrigin","anonymous"),p.src=r.toDataURL(),i.restore(),p}var e=0,i=document.createElement("canvas");i.width=o.width,i.height=o.height;for(var r=i.getContext("2d"),s=0;s<n.width;s+=o.size.x)for(var a=0;a<n.height;a+=o.size.y)r.save(),o.sprites[e]=[],o.sprites[e].push(t(s,a,r,i,1,1)),o.sprites[e].push(t(s,a,r,i,-1,1)),o.sprites[e].push(t(s,a,r,i,1,-1)),o.sprites[e].push(t(s,a,r,i,-1,-1)),r.restore(),e++;console.log(e+" sprites generated")}var o=this;this.__extend(GameObject,this,t),this.image="",this.flipHorizontal=!1,this.flipVertical=!1,this.index=0,this.size=new Vector2,this.__construct(this,t),this.velocity=new Vector2;var i=this.transform.position;this.sprites=[];var n=new Image;n.setAttribute("crossOrigin","anonymous");var r=!1;this.__update=function(t){if(r){o.index>o.sprites.length-1&&(o.index=0),o.index<0&&(o.index=o.sprites.length-1);var e=0;o.flipHorizontal&&o.flipVertical?e=3:(o.flipHorizontal&&(e=1),o.flipVertical&&(e=2)),o.sprites.length>0&&t.ctx.drawImage(o.sprites[o.index][e],o.transform.position.x,o.transform.position.y)}var n=(this.transform.position.x-i.x)/Time.deltaTime;n<0&&(n=Math.invert(n)),this.velocity.x=Math.round(n);var s=(this.transform.position.y-i.y)/Time.deltaTime;s<0&&(s=Math.invert(s)),this.velocity.y=Math.round(s),i=this.transform.position,o.onUpdate(t)},this.__init=function(t){n.onload=function(){0===o.size.x&&0===o.size.y&&(o.size.x=n.width,o.size.y=n.height),o.width=o.size.x,o.height=o.size.y,e(),r=!0},n.src=o.image}}i.prototype=new GameObject,i.prototype.constructor=i,e.exports=i},{}],17:[function(t,e,o){"use strict";function i(t){function e(t){var e="",i="";o.bold&&(e="bold "),o.italic&&(i="italic "),o.underline,t.fillStyle=o.color.toString(),t.font=e+i+Math.round(o.size)+"px "+o.font}var o=this;this.__extend(GameObject,this,t),this.color=new Color,this.text="",this.font="Helvetica",this.size=20,this.bold=!1,this.italic=!1,this.underline=!1,this.__construct(this,t),this.__update=function(t){var i=t.ctx;e(i),i.fillText(o.text,Math.round(o.transform.position.x),Math.round(o.transform.position.y)),o.onUpdate(t)},this.__init=function(t){o.transform.parent=o,o.transform.position.parent=o.transform,o.color.parent=o},this.__fixedUpdate=function(t){var i=t.ctx;e(i),o.height=o.size,o.width=Math.round(i.measureText(o.text).width),o.onFixedUpdate(t)}}i.prototype=new GameObject,i.prototype.constructor=i,e.exports=i},{}],18:[function(t,e,o){"use strict";Math.flip=function(t,e){return"number"!=typeof t&&"number"!=typeof e?NaN:Math.abs(e-parseInt(t))},Math.randomRange=function(t,e,o){return"number"!=typeof t&&"number"!=typeof e?NaN:o===!0?Math.floor(Math.random()*(e-t)+t):Math.random()*(e-t)+t},Math.invert=function(t){return t*-1},Math.clamp=function(t,e,o){return Math.min(Math.max(t,e),o)},Math.lerp=function(t,e,o){return(e-t)*o},e.exports=Math},{}],19:[function(t,e,o){"use strict";function i(t){return this.__construct(t),this.startupTime=0,this.frameCount=0,this.deltaTime=0,this.fixedDeltaTime=0,this.smoothDeltaTime=0,this.smoothFixedDeltaTime=0,this.maximumDeltaTime=0,this.maximumFixedDeltaTime=0,this.time=this.startupTime,this.fixedTime=this.startupTime,this.lastUpdateTime=this.startupTime,this.lastFixedUpdateTime=this.startupTime,this.fps=0,this}i.prototype=new Constructor(!0),i.prototype.update=function(t){var e=this,t=t||0;t/=1e3,e.time=t,0===e.startupTime&&(e.startupTime=e.time,e.lastUpdateTime=e.startupTime),e.deltaTime=e.time-e.lastUpdateTime,e.deltaTime>e.maximumDeltaTime&&(e.maximumDeltaTime=e.deltaTime),e.smoothDeltaTime=parseFloat(e.deltaTime.toFixed(2)),e.lastUpdateTime=e.time,e.fps=(1/e.deltaTime).toFixed(1),e.frameCount++},i.prototype.fixedUpdate=function(t){var e=this,t=t||0;t/=1e3,e.fixedTime=t,0===e.startupTime&&(e.startupTime=e.fixedTime,e.lastFixedUpdateTime=e.startupTime),e.fixedDeltaTime=e.fixedTime-e.lastFixedUpdateTime,e.fixedDeltaTime>e.maximumFixedDeltaTime&&(e.maximumFixedDeltaTime=e.fixedDeltaTime),e.smoothFixedDeltaTime=parseFloat(e.fixedDeltaTime.toFixed(2)),e.lastFixedUpdateTime=e.fixedTime},i.prototype.framerateToTime=function(t){return 1/t},e.exports=i},{}]},{},[1]);
//# sourceMappingURL=jsgame.min.js.map